<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Get (subsetted) flowFrames from one or many flowjo workspaces — wsp_get_ff • fcexpr</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Get (subsetted) flowFrames from one or many flowjo workspaces — wsp_get_ff"><meta property="og:description" content="From a flowjo workspace with gated populations and the respective fcs files flowframes are generated.
Under the hood CytoML::flowjo_to_gatingset applies the geometric gate definitions and filters
relevant rows (indices) of fcs files. The compensation matrix as defined in flowjo will be used
to compensate fluorescence intensities."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fcexpr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9940</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/create_and_maintain_a_meta_data_table.html">create_and_maintain_a_meta_data_table</a>
    </li>
    <li>
      <a href="../articles/import_data_from_fj_workspaces.html">import data from FlowJo workspaces</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get (subsetted) flowFrames from one or many flowjo workspaces</h1>
    
    <div class="hidden name"><code>wsp_get_ff.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>From a flowjo workspace with gated populations and the respective fcs files flowframes are generated.
Under the hood CytoML::flowjo_to_gatingset applies the geometric gate definitions and filters
relevant rows (indices) of fcs files. The compensation matrix as defined in flowjo will be used
to compensate fluorescence intensities.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">wsp_get_ff</span><span class="op">(</span>
  <span class="va">wsp</span>,
  FCS.file.folder <span class="op">=</span> <span class="cn">NULL</span>,
  groups <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">population</span>,
  invert_groups <span class="op">=</span> <span class="cn">F</span>,
  samples <span class="op">=</span> <span class="cn">NULL</span>,
  invert_samples <span class="op">=</span> <span class="cn">F</span>,
  inverse_transform <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span><span class="op">)</span>,
  downsample <span class="op">=</span> <span class="fl">1</span>,
  remove_redundant_channels <span class="op">=</span> <span class="cn">F</span>,
  lapply_fun <span class="op">=</span> <span class="va">lapply</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>wsp</dt>
<dd><p>vector of paths to flowjo workspaces</p></dd>
<dt>FCS.file.folder</dt>
<dd><p>path to folder(s) of FCS files; may be one path for all wsp or a vector of paths, one for each wsp;
if not provided fcs file paths are derived individually from the wsp (xml). If the workspace was generated and saved on
another computer you will have to provide the path to FCS files on the current computer.</p></dd>
<dt>groups</dt>
<dd><p>vector or list of groups in flowjo to consider; if a list, each index corresponds to the same index in wsp;
if NULL samples from all groups are read</p></dd>
<dt>population</dt>
<dd><p>which population (=node, =gate) to subset flowFrames on; use fcexpr::wsx_get_poppaths to get paths</p></dd>
<dt>invert_groups</dt>
<dd><p>logical whether to invert group selection</p></dd>
<dt>samples</dt>
<dd><p>vector or list of samples to select (names of FCS files), each index corresponds to the index in wsp;
if NULL all samples (from selected groups) are read</p></dd>
<dt>invert_samples</dt>
<dd><p>logical whether to invert sample selection</p></dd>
<dt>inverse_transform</dt>
<dd><p>return inverse- (T) or logicle- (F) transform or both (c(T,F))</p></dd>
<dt>downsample</dt>
<dd><p>numeric, if &lt; 0 then a fraction of events is sampled, if &gt; 0 an absolute number of events is sampled; or set to "min"
which will lead to downsampling each flowframe to the number of events in the flowframe with lowest number of events</p></dd>
<dt>remove_redundant_channels</dt>
<dd><p>remove channels that are not part of the gating tree, mainly to reduce memory load</p></dd>
<dt>lapply_fun</dt>
<dd><p>lapply function name, unquoted; lapply, pbapply::pblapply or parallel::mclapply are suggested</p></dd>
<dt>...</dt>
<dd><p>additional argument to the lapply function; mainly mc.cores when parallel::mclapply is chosen</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>a list of (subsetted) flowframes with events that are within the gated population only</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>If it is intended to pass flowframes to fcexpr::dr_to_fcs, inverse_transform has to contain 'F' which
will return flowframes with logicle transformation. The logicle transformation is required for fcexpr::dr_to_fcs.
The (default) inverse transformation is basically the one you see in flowjo.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="va">ff_list</span> <span class="op">&lt;-</span> <span class="fu">fcexpr</span><span class="fu">::</span><span class="fu">wsp_get_ff</span><span class="op">(</span>wsp <span class="op">=</span> <span class="st">"mypath/my.wsp"</span>, population <span class="op">=</span> <span class="st">"CD8+"</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># ff.list[[1]] may be passed to fcexpr::dr_to_fcs for instance</span></span>
<span class="r-in"><span class="op">}</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Christopher Mark Skopnik.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

